#!/bin/env bash

# License: GPL v3.0
# Install config i3 script

# Criando diretórios
mkdir $HOME/joao-repo
mkdir $HOME/.compile
mkdir $HOME/.config/rofi
mkdir $HOME/.config/rofi/themes
mkdir $HOME/.config/polybar
mkdir $HOME/.config/dunst
mkdir $HOME/.config/nvim
mkdir $HOME/.fonts
mkdir $HOME/.themes
mkdir $HOME/.Lock
mkdir $HOME/.icons
mkdir $HOME/.local/bin
mkdir $HOME/scripts
mkdir $HOME/wallpapers

# Aviso
clear && echo 'ATENÇÃO: LEIA O SCRIPT ANTES DE EXECUTA-LO!!!'
echo
echo 'Deseja executar o script?'
echo
echo '1 - Sim'
echo '2 - Não'
echo
read EXECUTE
echo
if [ $EXECUTE == '1' ];then
  continue
else
  echo 'Saindo...' && sleep 1 && exit 0
fi

clear && echo '
██╗██████╗       ██╗███╗   ██╗███████╗████████╗ █████╗ ██╗     ██╗     
██║╚════██╗      ██║████╗  ██║██╔════╝╚══██╔══╝██╔══██╗██║     ██║     
██║ █████╔╝█████╗██║██╔██╗ ██║███████╗   ██║   ███████║██║     ██║     
██║ ╚═══██╗╚════╝██║██║╚██╗██║╚════██║   ██║   ██╔══██║██║     ██║     
██║██████╔╝      ██║██║ ╚████║███████║   ██║   ██║  ██║███████╗███████╗
╚═╝╚═════╝       ╚═╝╚═╝  ╚═══╝╚══════╝   ╚═╝   ╚═╝  ╚═╝╚══════╝╚══════╝
                                                                       '
echo
echo 'Press enter to continue'
read

# Baixando pacotes
clear && sudo pacman -S git wget dunst imagemagick aria2 mpv libnotify viewnior python-pip pacman-contrib fortune-mod maim gvfs-mtp xdg-user-dirs xorg-xrandr usbutils pavucontrol pulseaudio-alsa w3m ttf-jetbrains-mono ttf-fantasque-sans-mono ttf-fira-code zsh-autosuggestions zsh-syntax-highlighting redshift ttf-font-awesome lib32-dbus-glib imagemagick base-devel kitty lsd youtube-dl noto-fonts-cjk qbittorent usbutils android-tools gucharmap neofetch mpv brightnessctl dunst libreoffice zip unzip numlockx fzf jq youtube-dl mpv fzf ueberzug noto-fonts ttf-nerd-fonts-symbols-mono --noconfirm && xdg-user-dirs-update

# Compilações
# Compilando -> Polybar
cd $HOME/.compile
git clone https://aur.archlinux.org/polybar.git
cd $HOME/.compile/polybar
makepkg -sic --noconfirm

# Compilando -> Autotiling
cd $HOME/.compile
git clone https://aur.archlinux.org/autotiling.git
cd $HOME/.compile/autotiling
makepkg -sic --noconfirm

# Compilando -> Pulseaudio-ctl
cd $HOME/.compile
git clone https://aur.archlinux.org/pulseaudio-ctl.git
cd $HOME/.compile/pulseaudio-ctl
makepkg -sic --noconfirm

# Compilando -> Google Chrome
cd $HOME/.compile
git clone https://aur.archlinux.org/google-chrome.git
cd $HOME/.compile/google-chrome
makepkg -sic --noconfirm

# Compilando -> scrcpy
cd $HOME/.compile
git clone https://aur.archlinux.org/scrcpy.git
cd $HOME/.compile/scrcpy
makepkg -sic --noconfirm

# Limpar console
clear

# Clonando meu repositório
cd $HOME/.joao-repo
git clone https://github.com/JoaoPedroPierri/dotfiles.git

# i3Lock
cd $HOME/.Lock
cp $HOME/.joao-repo/dotfiles/lock/ArchLinux.png

# dir ~/.local/bin e dando permissões aos scripts
cp $HOME/.joao-repo/dotfiles/bin/* $HOME/.local/bin
cd $HOME/.local/bin && chmod +x *

# dir ~/Scripts e dando permissões aos scripts
cp $HOME/.joao-repo/dotfiles/scripts/* $HOME/scripts
cd $HOME/scripts && chmod +x *

# Copiando as fontes para o sistema
cp $HOME/.joao-repo/dotfiles/.fonts/* $HOME/.fonts

# Copiando files zsh
cp ~/.joao-repo/dotfiles/.zshrc $HOME
cp ~/.joao-repo/dotfiles/.zshenv $HOME
cp ~/.joao-repo/dotfiles/.zprofile $HOME
cp ~/.joao-repo/dotfiles/.aliases $HOME
touch .zhistory $HOME

# Aplicando tema
# i3
cp $HOME/.joao-repo/dotfiles/.config/i3/config $HOME/.config/i3/

# Polybar
cp -r $HOME/.joao-repo/dotfiles/.config/polybar/scripts $HOME/.config/polybar
cp $HOME/.joao-repo/dotfiles/.config/polybar/config $HOME/.config/polybar
chmod +x $HOME/.config/polybar/scripts/*

# Rofi
sudo pacman -S rofi --noconfirm
cp $HOME/.joao-repo/dotfiles/.config/rofi/drun.rasi $HOME/.config/rofi/
cp $HOME/.joao-repo/dotfiles/.config/rofi/themes/dark.rasi $HOME/.config/rofi/themes/

# Kitty
cp $HOME/.joao-repo/dotfiles/.config/kitty/kitty.conf $HOME/.config/kitty
cp $HOME/.joao-repo/dotfiles/.config/kitty/theme.conf $HOME/.config/kitty
sudo ln -sv /usr/bin/kitty /usr/bin/xterm

# DUNST
cp $HOME/.joao-repo/dotfiles/.config/dunst/dunstrc $HOME/.config/dunst

# NITROGEN
sudo pacman -S nitrogen --noconfirm
cd $HOME/wallpapers
wget -c https://github.com/fraanks/dotfiles/raw/master/wallpapers/Goku.png
nitrogen --set-auto $HOME/wallpapers/Goku.png

# NEOVIM
cp $HOME/.joao-repo/dotfiles/.config/nvim/init.vim $HOME/.config/nvim

# NEOFETCH
sudo pacman -S neofetch --noconfirm
cp $HOME/.joao-repo/dotfiles/.config/neofetch/config.conf ~/.config/neofetch

# Restart i3
i3-msg restart
